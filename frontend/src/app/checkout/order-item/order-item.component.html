<div class="col-12 lg:col-4 p-4">
  <div class="surface-card border-round shadow-2 p-5">
    <div
      class="flex justify-content-between align-items-center border-bottom-1 pb-3 surface-border"
    >
      <span class="text-900 font-medium text-lg lg:text-xl"
        ><i class="pi pi-shopping-cart text-xl mr-2"></i>Meus Pedidos
        ({{ (cartItems$ | async)?.length }})</span
      >
      <a
        routerLink="/checkout/cart-details"
        tabindex="0"
        class="text-600 font-medium cursor-pointer hover:text-primary"
        >Voltar para o carrinho</a
      >
    </div>
    <div
      *ngFor="let cart of cartItems$ | async"
      class="flex flex-column lg:flex-row flex-wrap lg:align-items-center py-3 my-3 border-bottom-1 surface-border"
    >
      <p-image
        [src]="cart.imageCart"
        alt="Imagem do produto {{ cart.name }}"
        width="60px"
        class="flex-shrink-0 mb-3"
      />
      <div class="flex-auto lg:ml-3">
        <div
          class="flex align-items-center justify-content-between mb-3"
        >
          <span class="text-900 font-medium">{{ cart.name }}</span>
          <span class="text-900 font-bold">{{ cart.price }}</span>
        </div>
        <div class="text-600 text-sm mb-3">Categoria: Large</div>

        <div
          class="flex flex-auto justify-content-between align-items-center"
        >
          <p-inputNumber
            [(ngModel)]="cart.quantity"
            [showButtons]="true"
            buttonLayout="horizontal"
            spinnerMode="horizontal"
            [min]="1"
            inputStyleClass="w-2rem text-center py-2 px-1 border-transparent"
            class="border-1 surface-border border-round"
            decrementButtonClass="p-button-text text-600 hover:text-primary py-1 px-1"
            incrementButtonClass="p-button-text text-600 hover:text-primary py-1 px-1"
            incrementButtonIcon="pi pi-plus"
            decrementButtonIcon="pi pi-minus"
          ></p-inputNumber>
          <button
            pButton
            pRipple
            icon="pi pi-trash"
            class="text-600 p-button-text p-button-rounded"
          ></button>
        </div>
      </div>
    </div>
    <div class="py-2 mt-3 border-bottom-1 surface-border">
      <div class="flex justify-content-between align-items-center mb-3">
        <span class="text-900">Subtotal</span>
        <span class="text-900">{{
          getSubtotal() | currencyFormat
        }}</span>
      </div>
      <div class="flex justify-content-between align-items-center mb-3">
        <span class="text-900">Frete</span>
        <span class="text-900">Gr√°tis</span>
      </div>
      <div class="flex justify-content-between align-items-center mb-3">
        <span class="text-900">Desconto</span>
        <span class="text-900">{{
          getDiscountPercentage(discountValue)
        }}</span>
      </div>
      <div class="flex justify-content-between align-items-center mb-3">
        <span class="text-900">Total</span>
        <span class="text-900 font-bold">{{
          getTotal() | currencyFormat
        }}</span>
      </div>
    </div>

  </div>
</div>
